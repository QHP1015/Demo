(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b7c3084"],{"2fbc":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v(t._s(t.text))])],1)},n=[],i={name:"Breadcrumb",props:{text:{type:String,default:""}}},s=i,o=a("2877"),c=Object(o["a"])(s,r,n,!1,null,"24006bd4",null);e["a"]=c.exports},"38b4":function(t,e,a){},"408a":function(t,e,a){var r=a("e330");t.exports=r(1..valueOf)},5248:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return c}));var r=a("1bab");function n(t){return Object(r["a"])({url:"/items",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/items/".concat(t)})}function s(t,e){return Object(r["a"])({url:"/items/".concat(t),method:"put",data:e})}function o(t){return Object(r["a"])({url:"/items/".concat(t),method:"delete"})}function c(t){return Object(r["a"])({url:"/items",params:t})}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("e330"),n=a("1d80"),i=a("577e"),s=a("5899"),o=r("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(t){return function(e){var a=i(n(e));return 1&t&&(a=o(a,u,"")),2&t&&(a=o(a,l,"")),a}};t.exports={start:f(1),end:f(2),trim:f(3)}},6473:function(t,e,a){"use strict";a("38b4")},7156:function(t,e,a){var r=a("1626"),n=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var s,o;return i&&r(s=e.constructor)&&s!==a&&n(o=s.prototype)&&o!==a.prototype&&i(t,o),t}},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("e330"),s=a("94ca"),o=a("6eeb"),c=a("1a2d"),u=a("7156"),l=a("3a9b"),f=a("d9b5"),m=a("c04e"),d=a("d039"),p=a("241c").f,b=a("06cf").f,g=a("9bf2").f,h=a("408a"),v=a("58a8").trim,x="Number",_=n[x],k=_.prototype,w=n.TypeError,I=i("".slice),y=i("".charCodeAt),D=function(t){var e=m(t,"number");return"bigint"==typeof e?e:O(e)},O=function(t){var e,a,r,n,i,s,o,c,u=m(t,"number");if(f(u))throw w("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=v(u),e=y(u,0),43===e||45===e){if(a=y(u,2),88===a||120===a)return NaN}else if(48===e){switch(y(u,1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+u}for(i=I(u,2),s=i.length,o=0;o<s;o++)if(c=y(i,o),c<48||c>n)return NaN;return parseInt(i,r)}return+u};if(s(x,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var E,N=function(t){var e=arguments.length<1?0:_(D(t)),a=this;return l(k,a)&&d((function(){h(a)}))?u(Object(e),a,N):e},j=r?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;j.length>C;C++)c(_,E=j[C])&&!c(N,E)&&g(N,E,b(_,E));N.prototype=k,k.constructor=N,o(n,x,N)}},aff8:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r={computed:{action:function(){return Object({NODE_ENV:"production",BASE_URL:"/wzry/back/"}).VUE_APP_API_URL_UPLOAD||"/admin/api/upload/"},token:function(){var t=sessionStorage.getItem("token");return t?{Authorization:t}:{}}},methods:{uploadErrHandler:function(t){401===t.status&&(this.$message.error("请先登录"),router.push("/login"))}}}},f0df:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("breadcrumb",{attrs:{text:"装备列表"}}),a("el-card",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addItemClick}},[t._v("添加装备")]),a("el-table",{attrs:{data:t.itemList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.desc))]),a("div",{staticClass:"item-detail"},[t._v(t._s(e.row.detail))])]}}])}),a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"装备名称",prop:"name"}}),a("el-table-column",{attrs:{label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"item-icon",attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{label:"星级",prop:"star"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t._delete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pageParams.pagenum,"page-sizes":[5,8,10,15],"page-size":t.pageParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:this.formData._id?"编辑装备":"添加装备",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e},closed:t.dialogClose}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"物品名称"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"物品图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.action+"item",headers:t.token,"show-file-list":!1,"on-success":function(e){return t.$set(t.formData,"icon",e.url)}}},[t.formData.icon?a("img",{staticClass:"avatar",attrs:{src:t.formData.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"星级"}},[a("el-rate",{attrs:{"show-score":"",max:3},model:{value:t.formData.star,callback:function(e){t.$set(t.formData,"star",e)},expression:"formData.star"}})],1),a("el-form-item",{attrs:{label:"物品简介"}},[a("el-input",{model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}})],1),a("el-form-item",{attrs:{label:"物品详情"}},[a("el-input",{model:{value:t.formData.detail,callback:function(e){t.$set(t.formData,"detail",e)},expression:"formData.detail"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确 定")])],1)],1)],1)},n=[],i=a("1da1"),s=(a("a9e3"),a("96cf"),a("bc3a"),a("5248")),o=a("aff8"),c=a("2fbc"),u={name:"ItemList",mixins:[o["a"]],data:function(){return{itemList:[],dialogVisible:!1,formData:{},id:"",pageParams:{pagenum:1,pagesize:5},total:0}},components:{Breadcrumb:c["a"]},methods:{getItemList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])(t.pageParams);case 2:a=e.sent,t.total=a.data.total,t.itemList=a.data.data;case 5:case"end":return e.stop()}}),e)})))()},edit:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.id=t._id,a.next=3,Object(s["c"])(t._id);case 3:if(r=a.sent,r){a.next=6;break}return a.abrupt("return");case 6:r.data.star=Number(r.data.star),e.formData=r.data,e.dialogVisible=!0;case 9:case"end":return a.stop()}}),a)})))()},_delete:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return a.next=5,Object(s["b"])(t._id);case 5:if(r=a.sent,r){a.next=8;break}return a.abrupt("return");case 8:e.$message.success(r.data.message),e.getItemList(),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),e.$message.info("已取消删除");case 15:case"end":return a.stop()}}),a,null,[[0,12]])})))()},addItemClick:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.dialogVisible=!0;case 1:case"end":return e.stop()}}),e)})))()},ok:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formData._id){e.next=11;break}return e.next=3,Object(s["a"])(t.formData);case 3:if(a=e.sent,a){e.next=6;break}return e.abrupt("return",t.$message.error("装备添加失败"));case 6:t.$message.success("装备添加成功"),t.getItemList(),t.dialogVisible=!1,e.next=19;break;case 11:return e.next=13,Object(s["e"])(t.id,t.formData);case 13:if(r=e.sent,r){e.next=16;break}return e.abrupt("return",t.$message.error("装备编辑失败"));case 16:t.$message.success("装备编辑成功"),t.getItemList(),t.dialogVisible=!1;case 19:case"end":return e.stop()}}),e)})))()},dialogClose:function(){this.formData={}},handleSizeChange:function(t){this.pageParams.pagesize=t,this.getItemList()},handleCurrentChange:function(t){this.pageParams.pagenum=t,this.getItemList()}},created:function(){this.getItemList()}},l=u,f=(a("6473"),a("2877")),m=Object(f["a"])(l,r,n,!1,null,"77b6c4c0",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-7b7c3084.4c9f243a.js.map