(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34d97c7c"],{"2fbc":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v(e._s(e.text))])],1)},a=[],s={name:"Breadcrumb",props:{text:{type:String,default:""}}},i=s,l=r("2877"),o=Object(l["a"])(i,n,a,!1,null,"24006bd4",null);t["a"]=o.exports},"355a":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Breadcrumb",{attrs:{text:"用户列表"}}),r("el-card",[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addUser}},[e._v("添加用户")]),r("el-table",{attrs:{data:e.adminUserList,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"用户名",prop:"username"}}),r("el-table-column",{attrs:{label:"权限等级",prop:"level"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e._delete(t.row)}}},[e._v("删除")])]}}])})],1)],1),r("el-dialog",{attrs:{title:this.model._id?"编辑用户":"添加用户",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogClose}},[r("el-form",{attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),this.model._id?e._e():r("el-form-item",{attrs:{label:"权限等级"}},[r("el-input",{model:{value:e.model.level,callback:function(t){e.$set(e.model,"level",t)},expression:"model.level"}})],1),r("el-form-item",{attrs:{label:"密码"}},[r("el-input",{model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)],1)],1)},a=[],s=r("1da1"),i=(r("96cf"),r("2fbc")),l=r("1bab");function o(e){return Object(l["a"])({url:"/admin_users",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/admin_users/".concat(e)})}function u(e,t){return Object(l["a"])({url:"/admin_users/".concat(e),method:"put",data:t})}function d(e){return Object(l["a"])({url:"/admin_users/".concat(e),method:"delete"})}function m(){return Object(l["a"])({url:"/admin_users"})}var b={name:"AdminUserList",data:function(){return{adminUserList:[],model:{},dialogVisible:!1}},components:{Breadcrumb:i["a"]},methods:{getAdminUserList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:r=t.sent,e.adminUserList=r.data;case 4:case"end":return t.stop()}}),t)})))()},addUser:function(){this.dialogVisible=!0},edit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.id=e._id,r.next=3,c(t.id);case 3:n=r.sent,t.model=n.data,t.dialogVisible=!0;case 6:case"end":return r.stop()}}),r)})))()},ok:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.model._id){t.next=11;break}return t.next=3,o(e.model);case 3:if(r=t.sent,r){t.next=6;break}return t.abrupt("return");case 6:e.$message.success("创建用户成功"),e.getAdminUserList(),e.dialogVisible=!1,t.next=19;break;case 11:return t.next=13,u(e.id,e.model);case 13:if(n=t.sent,n){t.next=16;break}return t.abrupt("return");case 16:e.$message.success("编辑用户成功"),e.getAdminUserList(),e.dialogVisible=!1;case 19:case"end":return t.stop()}}),t)})))()},_delete:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return r.next=5,d(e._id);case 5:n=r.sent,t.$message.success(n.data.message),t.getAdminUserList(),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),t.$message.info("已取消删除");case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},dialogClose:function(){this.model={}}},created:function(){this.getAdminUserList()}},p=b,f=r("2877"),v=Object(f["a"])(p,n,a,!1,null,"1a550581",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-34d97c7c.3838966b.js.map