(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12af86d2"],{"0b42":function(e,t,r){var n=r("da84"),a=r("e8b5"),i=r("68ee"),o=r("861d"),s=r("b622"),c=s("species"),l=n.Array;e.exports=function(e){var t;return a(e)&&(t=e.constructor,i(t)&&(t===l||a(t.prototype))?t=void 0:o(t)&&(t=t[c],null===t&&(t=void 0))),void 0===t?l:t}},"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),i=r("2d00"),o=a("species");e.exports=function(e){return i>=51||!n((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2fbc":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v(e._s(e.text))])],1)},a=[],i={name:"Breadcrumb",props:{text:{type:String,default:""}}},o=i,s=r("2877"),c=Object(s["a"])(o,n,a,!1,null,"24006bd4",null);t["a"]=c.exports},"3bf5":function(e,t,r){},"65f0":function(e,t,r){var n=r("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},8418:function(e,t,r){"use strict";var n=r("a04b"),a=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,i(0,r)):e[o]=r}},"84ab":function(e,t,r){"use strict";r("3bf5")},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("da84"),i=r("23cb"),o=r("5926"),s=r("07fa"),c=r("7b0b"),l=r("65f0"),u=r("8418"),d=r("1dde"),f=d("splice"),m=a.TypeError,p=Math.max,b=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,n,a,d,f,h,x=c(this),w=s(x),k=i(e,w),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=w-k):(r=_-2,n=b(p(o(t),0),w-k)),w+r-n>g)throw m(v);for(a=l(x,n),d=0;d<n;d++)f=k+d,f in x&&u(a,d,x[f]);if(a.length=n,r<n){for(d=k;d<w-n;d++)f=d+n,h=d+r,f in x?x[h]=x[f]:delete x[h];for(d=w;d>w-n+r;d--)delete x[d-1]}else if(r>n)for(d=w-n;d>k;d--)f=d+n-1,h=d+r-1,f in x?x[h]=x[f]:delete x[h];for(d=0;d<r;d++)x[d+k]=arguments[d+2];return x.length=w-n+r,a}})},aff8:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={computed:{action:function(){return Object({NODE_ENV:"production",BASE_URL:"/wzry/back/"}).VUE_APP_API_URL_UPLOAD||"/admin/api/upload/"},token:function(){var e=sessionStorage.getItem("token");return e?{Authorization:e}:{}}},methods:{uploadErrHandler:function(e){401===e.status&&(this.$message.error("请先登录"),router.push("/login"))}}}},c0981:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Breadcrumb",{attrs:{text:"广告位列表"}}),r("el-card",[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addAd}},[e._v("添加广告位")]),r("el-table",{attrs:{data:e.adList,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"广告位名称",prop:"name"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e._delete(t.row)}}},[e._v("删除")])]}}])})],1)],1),r("el-dialog",{staticClass:"add-ad-dialog",attrs:{title:this.model._id?"编辑广告位":"添加广告位",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.dialogClose}},[r("el-form",{attrs:{"label-width":"86px"}},[r("el-form-item",{attrs:{label:"广告位名称"}},[r("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"itemssmall"},on:{click:e.addAds}},[e._v("添加广告位信息")]),r("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:20,type:"flex"}},e._l(e.model.items,(function(t,n){return r("el-col",{key:n,staticClass:"skill-item",attrs:{span:12}},[r("el-card",[r("el-tag",[e._v("广告位"+e._s(n+1))]),r("el-form-item",{attrs:{label:"图片:","label-width":"80px"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.action+"ad",headers:e.token,"show-file-list":!1,"on-success":function(r){return e.$set(t,"img",r.url)},"on-error":e.uploadErrHandler}},[t.img?r("img",{staticClass:"ad-img",attrs:{src:t.img}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"跳转链接:","label-width":"80px"}},[r("el-input",{model:{value:t.url,callback:function(r){e.$set(t,"url",r)},expression:"item.url"}})],1),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteAdInfo(n)}}},[e._v("删除")])],1)],1)})),1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)],1)],1)},a=[],i=r("1da1"),o=(r("a434"),r("96cf"),r("2fbc")),s=r("1bab");function c(e){return Object(s["a"])({url:"/ads",method:"post",data:e})}function l(e){return Object(s["a"])({url:"/ads/".concat(e)})}function u(e,t){return Object(s["a"])({url:"/ads/".concat(e),method:"put",data:t})}function d(e){return Object(s["a"])({url:"/ads/".concat(e),method:"delete"})}function f(){return Object(s["a"])({url:"/ads"})}var m=r("aff8"),p={name:"AdList",mixins:[m["a"]],data:function(){return{adList:[],dialogVisible:!1,model:{items:[]},id:""}},components:{Breadcrumb:o["a"]},methods:{getAdList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:r=t.sent,e.adList=r.data;case 4:case"end":return t.stop()}}),t)})))()},edit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.id=e._id,r.next=3,l(t.id);case 3:n=r.sent,t.model=n.data,t.dialogVisible=!0;case 6:case"end":return r.stop()}}),r)})))()},_delete:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return r.next=5,d(e._id);case 5:if(n=r.sent,n){r.next=8;break}return r.abrupt("return");case 8:t.$message.success("删除成功"),t.getAdList(),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),t.$message.info("已取消删除");case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},addAd:function(){this.dialogVisible=!0},addAds:function(){this.model.items.push({})},ok:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.model._id){t.next=11;break}return t.next=3,c(e.model);case 3:if(r=t.sent,r){t.next=6;break}return t.abrupt("return");case 6:e.$message.success("创建广告位成功"),e.getAdList(),e.dialogVisible=!1,t.next=19;break;case 11:return t.next=13,u(e.id,e.model);case 13:if(n=t.sent,n){t.next=16;break}return t.abrupt("return");case 16:e.$message.success("编辑成功"),e.getAdList(),e.dialogVisible=!1;case 19:case"end":return t.stop()}}),t)})))()},dialogClose:function(){this.model={items:[]}},deleteAdInfo:function(e){this.model.items.splice(e,1)}},created:function(){this.getAdList()}},b=p,g=(r("84ab"),r("2877")),v=Object(g["a"])(b,n,a,!1,null,null,null);t["default"]=v.exports},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-12af86d2.8bf3eac0.js.map