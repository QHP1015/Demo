(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15c1f3cf"],{"12c6":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return u}));var n=r("1bab");function a(e){return Object(n["a"])({url:"/heros",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/heros/".concat(e)})}function s(e,t){return Object(n["a"])({url:"/heros/".concat(e),method:"put",data:t})}function o(e){return Object(n["a"])({url:"/heros/".concat(e),method:"delete"})}function u(e){return Object(n["a"])({url:"/heros",params:e})}},"2fbc":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[e._v(e._s(e.text))])],1)},a=[],c={name:"Breadcrumb",props:{text:{type:String,default:""}}},s=c,o=r("2877"),u=Object(o["a"])(s,n,a,!1,null,"24006bd4",null);t["a"]=u.exports},"6b0b":function(e,t,r){},"8cfb":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("breadcrumb",{attrs:{text:"英雄列表"}}),r("el-card",[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"请输入英雄名称"},model:{value:e.heroQuery,callback:function(t){e.heroQuery=t},expression:"heroQuery"}})],1),r("el-col",{attrs:{span:3}},[r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchHero}},[e._v("搜索")])],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addHeroClick}},[e._v("添加英雄")])],1)],1),r("el-table",{attrs:{data:e.heroList,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.skills,(function(t){return r("div",{key:t._id,staticClass:"skills"},[r("div",{staticClass:"skill"},[r("img",{staticClass:"skill-icon",attrs:{src:t.icon}}),r("h3",[e._v(e._s(t.name))])])])}))}}])}),r("el-table-column",{attrs:{type:"index",label:"序号"}}),r("el-table-column",{attrs:{label:"英雄名称",prop:"name"}}),r("el-table-column",{attrs:{label:"英雄称号",prop:"title"}}),r("el-table-column",{attrs:{label:"所属分类",border:"",stripe:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.cate.map((function(e){return e.name})).join("/")))])]}}])}),r("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{staticClass:"hero-avatar",attrs:{src:e.row.avatar}})]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e._delete(t.row)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.pageParams.pagenum,"page-sizes":[5,8,10,15],"page-size":e.pageParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],c=r("1da1"),s=(r("96cf"),r("12c6")),o=r("2fbc"),u={name:"HeroList",components:{Breadcrumb:o["a"]},data:function(){return{heroList:[],pageParams:{pagenum:1,pagesize:5},total:0,heroQuery:""}},methods:{getHeroList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["d"])(e.pageParams);case 2:r=t.sent,e.total=r.data.total,e.heroList=r.data.data;case 5:case"end":return t.stop()}}),t)})))()},addHeroClick:function(){this.$router.push("/hero/create")},edit:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["c"])(e._id);case 2:r.sent,t.$router.push("/hero/edit/".concat(e._id));case 4:case"end":return r.stop()}}),r)})))()},_delete:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return r.next=5,Object(s["b"])(e._id);case 5:if(n=r.sent,n){r.next=8;break}return r.abrupt("return");case 8:t.$message.success(n.data.message),t.getHeroList(),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),t.$message.info("已取消删除");case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},searchHero:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.pageParams.query=e.heroQuery,e.pageParams.pagenum=1,e.getHeroList(e.pageParams);case 3:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.pageParams.pagesize=e,this.getHeroList()},handleCurrentChange:function(e){this.pageParams.pagenum=e,this.getHeroList()}},created:function(){this.getHeroList()}},i=u,l=(r("f424"),r("2877")),p=Object(l["a"])(i,n,a,!1,null,"3b96e446",null);t["default"]=p.exports},f424:function(e,t,r){"use strict";r("6b0b")}}]);
//# sourceMappingURL=chunk-15c1f3cf.2e0d9bb7.js.map